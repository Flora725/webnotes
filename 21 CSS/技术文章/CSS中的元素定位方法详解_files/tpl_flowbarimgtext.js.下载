(function(h,a){var f=function(e){return typeof e=="string"?document.getElementById(e):e},i=function(){var e=+new Date;return function(){return(++e)+""}}(),b=function(e){return typeof e=="string"?typeof e.trim=="function"?e.trim():e.replace(/^(\u3000|\s|\t|\u00A0)*|(\u3000|\s|\t|\u00A0)*$/g,""):false},d=function(l,k,e){if((l=f(l))&&typeof e=="function"){return l.attachEvent?l.attachEvent("on"+k,e):l.addEventListener?l.addEventListener(k,e,false):l["on"+k]=e}},j=function(e,k){for(var l in k){e[l]=k[l]}return e};try{h.navigator.name=""}catch(g){}function c(e,l,k){this.EVENT={};this.QUEUE=[];this.hand=0;this.target=e;this.ifrTarget=this.inIFR?h:e;if(typeof l=="function"){this.on("__recive",l)}if(typeof k=="function"){k(this)}this.bind(this);this.shaked=true}c.prototype={bind:function(k){if(h.postMessage){d(h,"message",function(e){k.hanlder(e||h.event)})}else{this.isPollfill=true;this.hash="";this.target=this.ifrTarget=h.navigator;this.cache={};try{this.ifrTarget.name="";this.pollfill(k.ifrTarget,"name")}catch(l){}}},inIFR:function(l){try{l=top.location!==location}catch(k){}return l===a?true:l}(),handshake:function(){var m=this,k=m.QUEUE,l=m.inIFR,e=l?1:2;m.on("shake",function(n){if(!m.shaked){if(++m.hand>=e){m.shaked=true;if(k.length){m.post()}}if(l||!m.shaked){m.send("shake",{number:m.hand,iframe:l})}}});if(m.inIFR){m.send("shake",{number:m.hand,iframe:l})}},post:function(){var e=h.postMessage?function(k){k.target.postMessage(k.message,"*")}:function(l,k){return l.target.name=k.hash=l.prefix+l.message};return function(){var l=this,m,k=l.QUEUE;if(k.length){if(l.isPollfill){if(l.recevied!==false){if(m=k.shift()){l.hash=e(m,l)}}}else{if(m=k.shift()){e(m);l.post()}}}}}(),hanlder:function(e){var k=e||h.event,l=this.decode(unescape(k.data||""));this.emit("__recive",l);this.emit(l.__method__,l)},pollfill:function(l,k){var e=this,m;setInterval(function(){try{if(m=(l[k]+"")){if(e.hash!=m){var n=(m.split("^").pop())+"";if(n){n=n.split("&");if(n.length>1){e.hanlder({domain:n[0],data:n[1]})}}e.hash=m}}}catch(o){if(typeof DSPUIBase!="undefined"){if(o.message&&!e.logopool){DSPUIBase.log({fm:"tool",r_type:"ifrpoolerror",e:o.message});e.logopool=true}}}},13)},send:function(n,l){var e=this;var m=h.location.href.match(/ifrid=([^&$]+)/i);m=m?m[1]:"";var k=j(l||{},{ifrid:m,__method__:n,time:+new Date});e.QUEUE.push({target:e.isPollfill?e.ifrTarget:e.target,method:n,data:l,message:escape(e.encode(k)),prefix:e.isPollfill?i()+"^"+document.domain+"&":""});if(e.shaked||n==="shake"){e.post()}},encode:function(k){var e=[],l;if(typeof k=="object"){for(var m in k){l=typeof(l=k[m])=="boolean"?l^0:l;if(k.hasOwnProperty(m)&&(l instanceof Array||l.toString()==l)){e.push(m+"="+encodeURIComponent(k[m].toString()))}}}return e.join("&")},decode:function(n){var m=null,k=0,l,o,e={};n=(""+b(n)).split("&");while(m=n[k++]){l=m.split("=");if(l&&l.length){if(o=l[1]){e[l[0]]=o^0==o?parseInt(o,10):o.split(",").length==1?o:o.split(",")}}}return e},on:function(k,e){this.EVENT[k]||(this.EVENT[k]=[]);this.EVENT[k].push(e)},emit:function(o,n,k){if((k=this.EVENT[o])&&k.length){for(var m=0,e=k.length;m<e;m++){k[m](n)}}}};h.DSPUIIFRcross=c})(window);(function(a,e,f,b){function d(g,h){if(h){for(var i in h){g[i]=h[i]}}return g}function c(){}c.prototype={mix:d,throttle:function(h,g){var i=null;return function(){var k=this,j=arguments;clearTimeout(i);i=setTimeout(function(){h.apply(k,j)},g)}},pcurl:function(h){var g=this.getProtocol()+"//www.baidu.com/s?word="+encodeURIComponent(h)+"&tn="+s_config.r_tn;if(s_conf.fenlei){g+="&fenlei="+s_conf.fenlei}return g},substitute:function(h,g){return h.replace(/\{([^{}]+)\}/g,function(i,j){var k=g[j];return(k!==undefined)?""+k:""})},getProtocol:function(){var g=(navigator&&navigator.userAgent?navigator.userAgent:"");if(g.match(/chrome|firefox|safari|msie 10|rsv:11|msie [89]/i)){return"https:"}return"http:"},log:function(j,g){var h=window._log_im=new Image;h.onload=h.onerror=function(){h.onload=h.onerror=null;window._log_im=h=null};return h.src=this.getLog(j,g)},getLog:function(){var i=d(window.s_config||{},{pid:201,productline:"cun",productsub:"cun",pj:"ext_hl",tab:"query",logactionid:"0100100002",mod:"cun"}),h=0;try{var g=location.href+"";var m=g.match(/ifr=([^&]+)/);var j=document.cookie.match(/cuid=([^;]+)/);var l=g.match(/(?:\?|&)t=([0-9]+)/);if(m){i.ifr=m[1]}if(l){l=parseInt(l[1],10);i.renderTime=+new Date-l}if(j){i.cuid=j[1]}}catch(k){}return function(q,o){var v=[],n=d(q,i);if(window.logactionid){n.logactionid=window.logactionid}n.r_time=+new Date;n.r_ltime=n.r_time-e;n.r_stime=e;n.r_sp=window.r_sp||"flowbar";if(window.FOCUS_TIME){n.r_fctime=n.r_time-window.FOCUS_TIME;n.r_index=FOCUS_CLICK_INDEX++}try{n.r_innerWidth=jQueryDSPUI(window).width();n.r_innerHeight=jQueryDSPUI(window).height()}catch(s){}for(var r in n){v.push(r+"="+encodeURIComponent(n[r]))}var t="";if(typeof o=="string"){t=o+v.join("&")}t=(s_domain.logUrl||"http://dj0.baidu.com/v.gif")+"?"+v.join("&");return t}}()};a.DSPUIBase=new c;window.onerror=function(j,i,h){if(!location.href.match(/dspui_debug/)){if(!f||b!=j){try{f=true;b=j;DSPUIBase.log({fm:"tool",r_type:"error",message:j,l:h})}catch(g){}window.onerror=function(){return true}}return true}};DSPUIBase.AntiUtil=function(g){this.selector=g;this.bind()};DSPUIBase.AntiUtil.prototype={hooks:"anti_hooks_dspui"+(+new Date),cache:{},uniq:function(){var g=+new Date;return function(){return g++}}(),bind:function(){var g=this,h=jQueryDSPUI(document);h.on("mouseover",g.selector,function(j){var i=jQueryDSPUI(this),k=i.attr(g.hooks);k||i.attr(g.hooks,k=g.uniq());g.over(k,i,j)}).on("mousedown",g.selector,function(j){var i=jQueryDSPUI(this),k=i.attr(g.hooks);g.down(k,i,j)}).on("mouseup",g.selector,function(j){var i=jQueryDSPUI(this),k=i.attr(g.hooks);g.up(k,i,j)})},over:function(j,h,g){var i=h.offset();this.setCache(j,{mouseoverInX:g.pageX-i.left,mouseoverInY:g.pageY-i.top})},down:function(k,h,g){var i=h.offset(),j=(h[0].nodeName||"").substr(0,1);this.setCache(k,{startTime:+new Date,mosuedownInX:g.pageX-i.left,mosuedownInY:g.pageY-i.top,nodeName:j,width:h.width(),height:h.height()})},up:function(i,h,g){this.setCache(i,{endTime:+new Date})},setCache:function(j,h){var g=this.cache;if(!g[j]){g[j]={nodeName:"C",startTime:0,endTime:0,mouseoverInX:0,mouseoverInY:0,mosuedownInX:0,mosuedownInY:0,width:0,height:0}}for(var i in h){g[j][i]=h[i]}},getCache:function(g){return this.cache[g]||{}},getAnti:function(i){var j=i.attr(this.hooks),g=this.getCache(j),h=[];h.push(g.nodeName,g.endTime-g.startTime,g.mouseoverInX,g.mouseoverInY,g.mosuedownInX,g.mosuedownInY,g.width,g.height);return h.join(".")}}})(this,+new Date);(function(b,a){window.ADFOR=function(){var c=b(document.body),d=b(document.documentElement);return{pagenum:1,direction:"left",space:450,stopInputanim:false,stopPostmessage:false,hasInput:true,inifr:function(){var e=this;e.ifr=new a(parent,function(f){e.reciveMessage=true;switch(f.__method__){case"hide":return e.hide();case"load":c.addClass("opentrue");e.draw();case"show":return e.show()}})},keyword:function(){var e={};function f(g){if(e[g]){return e[g]}g=g.replace(/:;:/g,"|");return e[g]=new RegExp("("+g+")","ig")}return function(i,g){var h=f(g);return i.replace(h,"<font>$1</font>")}}(),ready:function(f,g){var e=this;e.wrap=b("#wrap");e.inner=e.wrap.find(".inner");e.panel=e.inner.eq(0);e.panelswitch=e.inner.eq(1).hide();e.clientWidth=e.getClinetWdith();e.render(g);DSPUIBase.log({fm:"load",r_type:e.stopPostmessage?"loadsuccess_stop":"loadsuccess"});if(e.stopPostmessage){c.addClass("opentrue")}else{e.timerout()}e.bind()},timerout:function(){var e=this;setTimeout(function(){if(!e.reciveMessage){DSPUIBase.log({fm:"tool",r_type:"timeout_error"})}},2000)},render:function(g){var f=this;f.iptv=ADS.pop();if(f.clientWidth<50){try{if(!f.stopPostmessage){f.inifr();f.ifr.send("display",g)}}catch(h){f.error("ifrcross",h.message)}f.error("clientWidth");setTimeout(function(){f.clientWidth=b(window).width();f.draw()},2000)}else{f.draw();try{if(!f.stopPostmessage){f.inifr();f.ifr.send("display",g)}}catch(h){f.error("ifrcross",h.message)}}},draw:function(){if(!self.drawed){this.reset();this.show();this.drawed=true}},error:function(e,f){DSPUIBase.log({fm:"tool",r_type:e+"_error",e:f||""})},replacehref:function(){b("a").each(function(){var g=b(this),f=g.attr("data-type"),e=g.attr("href");if(f!=="close"&&e){g.attr("data-href",e);g.removeAttr("href")}})},reset:function(){this.panel.html(this.renderContent(ADS));if(typeof this.onRestCallback=="function"){this.onRestCallback()}this.replacehref()},show:function(){d.removeClass("hide").addClass("show");c.toggleClass("ie-fixed").show();this.showed=true},hide:function(){d.removeClass("show").addClass("hide");c.toggleClass("ie-fixed");this.showed=false},bind:function(){var e=this;e.bindCLICK();if(e.hasInput){e.bindINPUT()}e.bindOTHER&&e.bindOTHER();setTimeout(function(){b(window).bind("resize",DSPUIBase.throttle(function(){e.reset()},300))},1000);b(document).mouseenter(function(){e.FOCUSIN=true;e.FOCUS_ENTIME=+new Date;c.addClass("UI-MOUSEENTER")}).mouseleave(function(){e.FOCUSIN=false;c.removeClass("UI-MOUSEENTER")})},bindINPUT:function(){var f=this,g=b(".input"),h=g.find("form"),i=f.iptv.title,e=g.find("input.ipt").val(i);h.on("mouseenter mouseleave",function(j){g[j.type=="mouseenter"?"addClass":"removeClass"]("ui-input-hover")});e.focus(function(){var j=e.val();if(j==i){e.val("")}e.addClass("ui-input-focus");if(!f.stopInputanim){typeof f.inputANIME=="function"&&f.inputANIME(true)}}).blur(function(){var j=e.val();if(!j){e.val(i)}e.removeClass("ui-input-focus");if(!f.stopInputanim){typeof f.inputANIME=="function"&&f.inputANIME()}});h.submit(function(){var j=e.val()||"";DSPUIBase.log({fm:"click",r_wd:j,r_type:i!=j?"change_submit":"submit"});if(!j){e.val(i);setTimeout(function(){e.blur()},100)}})},clickTEXT:function(e){e.find(".news").remove();window.__imgsrc=new Image;window.__imgsrc.src=s_domain.clickDomain+"rp/click?word="+encodeURIComponent(e.attr("data-title"))},clickCLOSE:function(){if(this.showed){this.hide();if(this.ifr){this.ifr.send("expand")}}else{this.show();if(this.ifr){this.ifr.send("folding")}}return false},clickLOGO:function(){if(!this.showed){this.show();if(this.ifr){this.ifr.send("folding")}return false}},bindCLICK:function(){var f=this,e=new DSPUIBase.AntiUtil("a,.a");d.on("click mouseenter mouseleave","a,.a",function(l){var k=b(this),i=k.attr("data-recommtype"),h=k.attr("data-type")||"",g=l.type+h.toUpperCase(),j=k.attr("data-href");if(l.type=="click"){DSPUIBase.log(f.logINFO(k,{r_type:h,r_c:e.getAnti(k)}));if(j){k.attr("href",j);setTimeout(function(){k.removeAttr("href")},500)}}else{g=l.type+"EVENT"}if(typeof f[g]=="function"){return f[g](k,i,h)}})},logINFO:function(f,e){return DSPUIBase.mix({fm:"click",r_page:this.pagenum,r_rank:f.index(),r_wd:f.attr("data-title")||"",r_key:f.attr("data-rpkey")||"",r_hidehit:f.attr("data-hidehit")||"",r_recommtype:f.attr("data-recommtype")||""},e)},getClinetWdith:function(){var f=STYLE.iw,h=STYLE.pw,i=STYLE.width,g,e;g=parseInt(f||h||i,10);e=b(window).width();if(e>50){return e}return g}}}()})(jQueryDSPUI,DSPUIIFRcross);(function(c){var a=['<a href="{link}" data-type="text"  data-hidehit="{hidehit}" style="padding-left:{pleft}px;width:{width}px"','data-recommtype="{recommtype}" title="{title}" data-title="{title}" data-rpkey="{rpkey}" ','target="_blank"  class="{imageclass} {lastclass}"> {image} <span style="width:{itemwidth}px">{titletips}</span>',"</a> "].join(""),d='<img src="{imgsrc}" onerror="IMGERROR(this.src)" width="{imgwidth}" height="{imgheight}"/>',b='<i class="news">\u65b0</i>';DSPUIBase.mix(ADFOR,{space:378,imgwidth:70,imgheight:50,getTitleWidth:function(e){return(e+"").replace(/[\u4e00-\u9fa5]/g,"**").length},getItemWidth:function(h,f){var g=this.getTitleWidth(h.title),i=g<=16?g*7:16*7;if(g>=8&&g<=16){i=8*7}else{if(g>16&&g<=20){i=12*7}}if(f){return i+(h.imgsrc?this.imgwidth+4:0)+20}return i},canNarrow:function(k,h,f){var g=this,e=g.getItemWidth(k),j=h-f,i=Math.floor((e-j)/17);if(f>0){if(j>0||i>=4){return true}}return false},fixedTitle:function(g,e){var h=g.title,f=e||Math.floor(g.itemwidth/14)*2;return h.length>f?h.substring(0,f-2)+"...":h},getRenderItems:function(t){var o=this,v,m=0,k,p=0,u,r,h,x,n,f=o.getClinetWdith()-ADFOR.space,y=[],j=false;o.renderItemNumber=0;while(v=t[m++]){k=this.getItemWidth(v,true);r=this.getItemWidth(v);x=f-p-k;if(o.canNarrow(v,k,x)){p+=k;v.width=v.itemwidth=r;y.push(v);o.renderItemNumber++}else{if(j){if(o.canNarrow(v,k,x)){p+=k;v.width=v.itemwidth=r;y.push(v)}}else{j=true}}}var l=f-p,w,s=0,q,g=Math.floor(l/o.renderItemNumber);while(w=y[s++]){if(l>0){q=s==o.renderItemNumber?(l-g*(o.renderItemNumber-1)):g;w.width+=q;w.itemwidth+=q}else{if(s==y.length){w.width=w.itemwidth=w.width+l}}w.titletips=o.fixedTitle(w)}return y},renderContent:function(j,h){var g=this,l,i=[],k,m,f=0;l=g.getRenderItems(j);if(false===h){l=l.reverse()}while(m=l[f++]){m.link=DSPUIBase.getProtocol()+"//www.baidu.com/s?wd="+encodeURIComponent(m.title)+"&tn="+s_config.r_tn;if(s_conf.fenlei){m.link+="&fenlei="+s_conf.fenlei}m.imgwidth=g.imgwidth;m.imgheight=g.imgheight;if(m.imgsrc){m.pleft=m.imgwidth+14}m.image=m.imgsrc?DSPUIBase.substitute(d,m):"";m.news=m.displayType=="1"?b:"";m.imageclass=m.image?"hasimage":"";m.lastclass=!l[f]?"haslast":"";if(m.keyword){m.titletips=this.keyword(m.titletips,m.keyword)}i.push(DSPUIBase.substitute(a,m))}return i.join("")},clickPREV:function(){if(!this.switching){var e=ADS.slice(0,ADS.length),f=e.reverse();this.pagenum--;this.switchs(f,false);ADS.splice(ADS.length-this.renderItemNumber,this.renderItemNumber);[].unshift.apply(ADS,f.splice(0,this.renderItemNumber))}},clickNEXT:function(){if(!this.switching){this.pagenum++;var e=ADS.splice(0,this.renderItemNumber);[].push.apply(ADS,e);this.switchs(ADS,true)}},switchs:function(i,j){var g=this,f=c(".scroll"),e=f.width(),h=g.renderContent(i,j);g.wrap.width(2*g.getClinetWdith());g.switching=true;if(j){g.panelswitch.html(h).show();g.wrap.animate({marginLeft:-e},300,function(){var k=g.panelswitch;g.panel.hide().appendTo(g.wrap);g.wrap.css("marginLeft",0);g.panelswitch=g.panel;g.panel=k;g.switching=false})}else{g.panelswitch.prependTo(g.wrap).html(h).show();g.wrap.css("marginLeft",-e);g.wrap.animate({marginLeft:0},300,function(){var k=g.panelswitch;g.panel.hide();g.panelswitch=g.panel;g.panel=k;g.switching=false})}g.replacehref()},mouseenterEVENT:function(g,e,f){if(f=="logo"){c(".ui-logohover").removeClass("ui-logohover");g.addClass("ui-logohover")}else{c(".ui-hover").removeClass("ui-hover");g.addClass("ui-hover");g.prev().addClass("noborder")}},mouseleaveEVENT:function(g,e,f){g.removeClass(f=="logo"?"ui-logohover":"ui-hover");g.prev().removeClass("noborder")},inputANIME:function(j){var m=this,l=this.panel.find("a.haslast"),h,e=c(".input"),k=e.find("input.ipt"),i=e.find(".next"),f=l.width(),g=l.prev();if(j){m.inputwidth=k.width();m.inputwrapwidth=e.width();l.css("visibility","hidden");h=Math.min(f,200);i.hide();k.animate({width:m.inputwidth+h},200);e.animate({width:m.inputwrapwidth+h},200)}else{k.animate({width:m.inputwidth},200);e.animate({width:m.inputwrapwidth},200,function(){l.css("visibility","inherit");g.removeClass("noborder");i.show()})}}});window.IMGERROR=function(e){DSPUIBase.log({fm:"tool",r_type:"imgsrcerror",r_src:e})}})(jQueryDSPUI);