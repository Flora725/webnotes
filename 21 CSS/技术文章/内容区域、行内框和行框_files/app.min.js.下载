!function(){var a={};this.tmpl=function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}}(),function(){EventUtil=window.EventUtil||{},EventUtil={addHandler:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},getButton:function(a){if(document.implementation.hasFeature("MouseEvents","2.0"))return a.button;switch(a.button){case 0:case 1:case 3:case 5:case 7:return 0;case 2:case 6:return 2;case 4:return 1}},getCharCode:function(a){return"number"==typeof a.charCode?a.charCode:a.keyCode},getClipboardText:function(a){var b=a.clipboardData||window.clipboardData;return b.getData("text")},getEvent:function(a){return a?a:window.event},getRelatedTarget:function(a){return a.relatedTarget?a.relatedTarget:a.toElement?a.toElement:a.fromElement?a.fromElement:null},getTarget:function(a){return a.target||a.srcElement},getWheelDelta:function(a){return a.wheelDelta?client.engine.opera&&client.engine.opera<9.5?-a.wheelDelta:a.wheelDelta:40*-a.detail},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},removeHandler:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null},setClipboardText:function(a,b){a.clipboardData?a.clipboardData.setData("text/plain",b):window.clipboardData&&window.clipboardData.setData("text",b)},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}}}(),function(){El=Window.El||{},El={hasClass:function(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},addClass:function(a,b){a.className=a.className.replace(/^\s\s*/,"").replace(/\s\s*$/,""),this.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){if(this.hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}}}}(),window.ImgOnload=function(a,b){var c=b[1],d=b[0],e=a.width,f=a.height,g=0,h=0,i=0,j=0;e>f?(g=d+"px",h="auto",j=(c-f/(e/d))/2):f>e?(g="auto",h=c+"px",i=(d-e/(f/c))/2):(g=d+"px",h="auto"),a.style.width=g,a.style.height=h,a.style.marginLeft=i+"px",a.style.marginTop=j+"px"},function(a){function b(){var a=document.createElement("div"),b=document.createTextNode("广告");return a.appendChild(b),a.setAttribute("style","position: absolute; left: 0; top: 0; background-color: #ececec;font-size: 12px;padding:0 2px;"),a}var c=function(a){var b='<div class="TPL-container"><div class="xb-ad-box"><a target="_blank" href="http://www.xibao100.com/" class="xb-logo logo-link"><span class="normal">喜</span><span class="hover">喜宝推广</span></a><div class="items"></div></div></div>';this.container=a||b,this.sourceId=sourceId||2};c.prototype.init=function(){var c=document.body,d=document.getElementById("addata"),e=document.createElement("div");e.innerHTML=this.container,El.addClass(e,"xb-wrapper"),c.insertBefore(e,d);var f=e.querySelector(".xb-logo");e.appendChild(b());var g="javascript:void(0)",h=function(){var b="tanx";switch(a.sourceId){case 2:b="tanx";break;case 3:b="besq";break;case 12:b="baidubc";break;default:b="tanx"}return b};f.setAttribute?f.setAttribute("href","http://dsp.xibao100.com/login?utm_source="+h()+"&utm_medium=ad&utm_campaign=jb"):f.href=g},c.prototype.start=function(){this.init()},a.Xbad=c}(this),function(){function a(a){for(var b=a.children,c=0;c<b.length;c++)El.removeClass(b[c],"current")}function b(b){var c=b.getAttribute("data-index"),d=document.querySelector(".items");a(d);var e=d.querySelector(".item"+c);El.addClass(e,"current"),k=parseInt(c,10)+1}function c(){var c=document.querySelector(".xb-ad-box");EventUtil.addHandler(c,"mouseover",function(c){var d=EventUtil.getEvent(c),e=EventUtil.getTarget(d).className,f=null;"templet-border"===e&&(f=EventUtil.getTarget(d).parentNode,alinkParent=f.parentNode,a(alinkParent),El.hasClass(alinkParent,"current")||El.addClass(alinkParent,"current"),El.hasClass(f,"current")||El.addClass(f,"current"),null!==m&&clearInterval(m),b(f)),EventUtil.stopPropagation(d)}),EventUtil.addHandler(c,"mouseout",function(a){var b=EventUtil.getEvent(a),c=EventUtil.getTarget(b).className,d=null;if("templet-border"===c){d=EventUtil.getTarget(b).parentNode;var e=d.getAttribute("data-index");k=parseInt(e,10)+1,f()}EventUtil.stopPropagation(b)})}function d(a,b,c){for(var d="",e=0;a>e;e++)d+=tmpl(q,{data:j[e],index:e,single:!1});c.innerHTML=d}function e(a,b,c,d){for(var e='<div class="triggers">',f="</div>",g=0;b>g;g++){e+='<div class="frame frame'+g+'" data-index='+g+">";for(var h=g*l;g*l+l>h&&!(h>a||h==a);h++)e+='<a class="trigger j-trigger" href="javascript:void(0)" target="_blank" data-index="'+h+'"><div class="templet-cover"></div><div class="templet-border"></div><img width="50" height="50" src="'+j[h].pic+'"></a>';e+="</div>"}e+=f;var i=document.createElement("div");El.addClass(i,"cover"),i.innerHTML=e,c.insertBefore(i,d)}function f(){var a=0;m=setInterval(function(){n>=o&&(n=0),h(n,a),a++,a>l-1&&(p?n=0:n+=1,a=0)},2e3)}function g(a,b){h(0,0),f()}function h(b,c){var d=document.querySelector(".xb-ad-box"),e=d.querySelector(".triggers"),g=e.querySelector(".frame"+b),h=(g.querySelector(".current"),g.getElementsByTagName("a"));a(e,"current"),El.addClass(g,"current"),a(g,"current");var i=h[c];El.addClass(i,"current"),p=!1;var k=i.getAttribute("data-index"),l=d.querySelector(".items");a(l,"current");var o=l.querySelector(".item"+k);El.addClass(o,"current"),parseInt(k)===j.length-1&&(n=0,p=!0,clearInterval(m),f())}function i(a){var b=Math.ceil(a/l),c=document.querySelector(".xb-ad-box"),f=c.querySelector(".items");o=b,d(a,c,f),e(a,b,c,f),g(c,f)}var j=adData_arr,k=0,l=2,m=null,n=0,o=0,p=!1,q='<div class="item item<%= index %> " ><a target="_blank" class="pic" href="<%= data.url%>" ><img src="<%= data.pic %>" /></a><div class="xb-ad-ext-info"><a target="_blank" href="<%= data.url%>"><%if (data.oriprice && data.oriprice > data.price){%> <span class="discount"><%= Math.floor(data.price/data.oriprice * 10)?Math.floor(data.price/data.oriprice * 10):1 %>折</span> <%}%><span class="price-promo"><%if (data.oriprice && data.oriprice > data.price){%> <span class="zhekou">折扣价：</span> <%}%> <span class="yen">¥ </span><span class="price"> <%= data.price%></span></span></a><div class="item-title"><%= data.title %></div></div></div>',r=function(){this.data=j;var a=this.data.length,b=new Xbad;b.start();for(var d=0,e=0;l>e&&!(this.data.length>=l);e++)d>=a&&(d=0),this.data.push(j[d]),d++;i(this.data.length),c()};r()}();